{% extends "base.html" %}

{% block content %}
<h2>YOUR LIBRARY</h2>
<form action="{{ url_for('home') }}" method="GET">
    <label for="sort">Sort by:</label>
    <select name="sort" id="sort" onchange="this.form.submit()">
        <option value="">-- No Sorting --</option>
        <option value="title">Title</option>
        <option value="author">Author</option>
    </select>
</form>
<ul>
    {% for book in books %}
      <li>
          {{ book.title }}<br>
          {{ book.author.name }}<br>
          <div style="width: 150px; height: 220px; background-image: url('{{ url_for('static', filename='placeholder.jpg') }}'); background-size: cover;">
              <img
                src="https://covers.openlibrary.org/b/isbn/{{ book.isbn }}-M.jpg"
                alt="Cover of {{ book.title }}"
                height="220"
                style="display: block; width: 100%; height: 100%; object-fit: cover;">
          </div>
      </li>
    {% endfor %}
</ul>

{% endblock %}